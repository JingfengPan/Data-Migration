import matplotlib
import matplotlib.pyplot as plt
import numpy as np

font = {'size': 16}
matplotlib.rc('font', **font)

'''
n_clus = np.array([5, 10, 15, 20])
rs_gzip_001_throughput = np.array([5.346996368288001, 5.307745105877351, 5.269941593545922, 5.245796242435122])
oc_gzip_001_throughput = np.array([5.271638462903021, 5.134556341737577, 5.032274035511523, 4.999247465105845])
rs_lz4_001_throughput = np.array([3.538676389184497, 3.5168373882221178, 3.4979752038531444, 3.4854685257302522])
oc_lz4_001_throughput = np.array([3.515106014936003, 3.458922449414608, 3.422346752275601, 3.416259111130279])
rs_zstd_001_throughput = np.array([5.316945744152537, 5.283511506319141, 5.250492577956536, 5.2306893055248365])
oc_zstd_001_throughput = np.array([5.943684036199045, 6.5052387045992734, 7.07589397857864, 7.469897227313417])
rs_gzip_002_throughput = np.array([5.4031618955044225, 5.381712985892104, 5.364011045294901, 5.345381539659245])
oc_gzip_002_throughput = np.array([5.423336951394443, 5.401953718853356, 5.3742523909463795, 5.3741874663353215])
rs_lz4_002_throughput = np.array([3.5588260721786664, 3.5418510727301733, 3.532141836548541, 3.5228401017526436])
oc_lz4_002_throughput = np.array([3.565803366303952, 3.551961869729265, 3.5412756444989038, 3.5436854809718388])
rs_zstd_002_throughput = np.array([5.235863277115792, 5.222045169606982, 5.2134332727554495, 5.202615531141638])
oc_zstd_002_throughput = np.array([5.249416275666794, 5.234386969089812, 5.21470752076575, 5.2193093750902255])
rs_gzip_cus_throughput = np.array([5.432433093226939, 5.407428777706496, 5.392357408801322, 5.381924546361354])
oc_gzip_cus_throughput = np.array([5.4573800426032735, 5.436131981080981, 5.421045514470694, 5.429512748330587])
rs_lz4_cus_throughput = np.array([3.586697485908057, 3.5733293675010565, 3.5655536680224804, 3.5606682389446567])
oc_lz4_cus_throughput = np.array([3.5951113995150625, 3.5871515660882936, 3.583448730918003, 3.5904971533429544])
rs_zstd_cus_throughput = np.array([5.259656503967962, 5.252195571563353, 5.2477633420523295, 5.245269676923664])
oc_zstd_cus_throughput = np.array([5.2773048645269895, 5.2748528487604505, 5.269858954621532, 5.283683075053804])
'''

'''
cluster_size = np.array([10000, 20000, 30000, 40000])
rs_gzip_001_throughput = np.array([5.307745105877351, 5.3028977147059155, 5.300583485163073, 5.297927327068087])
oc_gzip_001_throughput = np.array([5.134556341737577, 4.992108310398943, 4.814500510372012, 4.791076025706469])
rs_lz4_001_throughput = np.array([3.5168373882221178, 3.51470663657145, 3.5137637174502294, 3.512647714159913])
oc_lz4_001_throughput = np.array([3.458922449414608, 3.3943542209987125, 3.311441144191739, 3.2996768476081164])
rs_zstd_001_throughput = np.array([5.283511506319141, 5.278018612574469, 5.2767443711417386, 5.274045605159101])
oc_zstd_001_throughput = np.array([6.5052387045992734, 6.172527442863899, 6.003874169060371, 5.941195708253442])
rs_gzip_002_throughput = np.array([5.4031618955044225, 5.381576046270209, 5.377863086906828, 5.3817758325283505])
oc_gzip_002_throughput = np.array([5.401953718853356, 5.380105385138323, 5.355700673883853, 5.282818939927819])
rs_lz4_002_throughput = np.array([3.5418510727301733, 3.5419271677688773, 3.540236358724205, 3.541870268121185])
oc_lz4_002_throughput = np.array([3.551961869729265, 3.5428201966437864, 3.532058143826207, 3.500079323787261])
rs_zstd_002_throughput = np.array([5.222045169606982, 5.222078968155573, 5.218398217383786, 5.222127374963737])
oc_zstd_002_throughput = np.array([5.234386969089812, 5.214224137870379, 5.191250886914004, 5.122436973414335])
rs_gzip_cus_throughput = np.array([5.407428777706496, 5.406645712084698, 5.4064700751561, 5.407281584909221])
oc_gzip_cus_throughput = np.array([5.436131981080981, 5.423018121606099, 5.410367490056026, 5.416363483830064])
rs_lz4_cus_throughput = np.array([3.5733293675010565, 3.5730615977361686, 3.57302584650349, 3.57337715195649])
oc_lz4_cus_throughput = np.array([3.5871515660882936, 3.5814908535146563, 3.575995872341585, 3.5786083059779])
rs_zstd_cus_throughput = np.array([5.252195571563353, 5.251734418718752, 5.251436514093444, 5.252289796169895])
oc_zstd_cus_throughput = np.array([5.2748528487604505, 5.2625387565038855, 5.2506062854549205, 5.2562543237886326])
'''

network_speed = np.array([0.2, 0.8, 1.4, 2.0])
rs_gzip_001_throughput = np.array([0.5225468392270678, 2.0839425393311766, 3.637830154461736, 5.307745105877351])
oc_gzip_001_throughput = np.array([0.527561505998116, 2.081173920902759, 3.590282685363637, 5.134556341737577])
rs_lz4_001_throughput = np.array([0.34506494390995235, 1.3778571303750682, 2.407799052022264, 3.5168373882221178])
oc_lz4_001_throughput = np.array([0.3492418174037584, 1.384528854518116, 2.400220760643664, 3.458922449414608])
rs_zstd_001_throughput = np.array([0.5197818244224875, 2.0733351049854405, 3.62017791293002, 5.283511506319141])
oc_zstd_001_throughput = np.array([0.6687431317926972, 2.6646650495648725, 4.5855572758920315, 6.5052387045992734])
rs_gzip_002_throughput = np.array([0.5265955305251036, 2.1046308981161297, 3.6810814346923415, 5.381712985892104])
oc_gzip_002_throughput = np.array([0.53070646572708, 2.1184226858824484, 3.7019399709861585, 5.401953718853356])
rs_lz4_002_throughput = np.array([0.3462876980301938, 1.384459295181339, 2.422027654214837, 3.5418510727301733])
oc_lz4_002_throughput = np.array([0.34819720111825214, 1.3909250520175152, 2.432027057611255, 3.551961869729265])
rs_zstd_002_throughput = np.array([0.5108532359281405, 2.0418305239893417, 3.5716134930072148, 5.222045169606982])
oc_zstd_002_throughput = np.array([0.5140417182500149, 2.0522229368858906, 3.586690833792883, 5.234386969089812])
rs_gzip_cus_throughput = np.array([0.5283526375245129, 2.1130075603472336, 3.696790940978084, 5.407428777706496])
oc_gzip_cus_throughput = np.array([0.5326898497828223, 2.1278897462583686, 3.7264229601669756, 5.436131981080981])
rs_lz4_cus_throughput = np.array([0.3490687417587752, 1.3961085700924916, 2.442858259800018, 3.5733293675010565])
oc_lz4_cus_throughput = np.array([0.3510878034918444, 1.4031229112662336, 2.4566542598207124, 3.5871515660882936])
rs_zstd_cus_throughput = np.array([0.513163285069453, 2.052303443126835, 3.590637980798812, 5.252195571563353])
oc_zstd_cus_throughput = np.array([0.5168036709179529, 2.0645697795639504, 3.6154937296373393, 5.2748528487604505])

fig, axs = plt.subplots(1, 3, figsize=(14, 5))
plt.subplot(131)

plt.plot(range(len(network_speed)), rs_gzip_001_throughput, label='Gzip Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_gzip_001_throughput, label='Gzip Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_lz4_001_throughput, label='LZ4 Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_lz4_001_throughput, label='LZ4 Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_zstd_001_throughput, label='Zstd Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_zstd_001_throughput, label='Zstd Online Clustering', marker='o')
plt.xlabel('Network Speed (MB/s)')
plt.ylabel('Throughput (MB/s)')
plt.xticks(range(len(network_speed)), network_speed)
plt.title('DS_001')

plt.legend(bbox_to_anchor=(3.3, 1.4), ncol=3)

plt.subplot(132)
plt.plot(range(len(network_speed)), rs_gzip_002_throughput, label='Gzip Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_gzip_002_throughput, label='Gzip Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_lz4_002_throughput, label='LZ4 Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_lz4_002_throughput, label='LZ4 Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_zstd_002_throughput, label='Zstd Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_zstd_002_throughput, label='Zstd Online Clustering', marker='o')
plt.xlabel('Network Speed (MB/s)')
plt.ylabel('Throughput (MB/s)')
plt.xticks(range(len(network_speed)), network_speed)
plt.title('DS_002')

plt.subplot(133)
plt.plot(range(len(network_speed)), rs_gzip_cus_throughput, label='Gzip Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_gzip_cus_throughput, label='Gzip Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_lz4_cus_throughput, label='LZ4 Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_lz4_cus_throughput, label='LZ4 Online Clustering', marker='o')
plt.plot(range(len(network_speed)), rs_zstd_cus_throughput, label='Zstd Random Split', linestyle='dashed', marker='o')
plt.plot(range(len(network_speed)), oc_zstd_cus_throughput, label='Zstd Online Clustering', marker='o')
plt.xlabel('Network Speed (MB/s)')
plt.ylabel('Throughput (MB/s)')
plt.xticks(range(len(network_speed)), network_speed)
plt.title('DS_003')

plt.show()

